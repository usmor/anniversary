{% extends 'base.html' %}

{% block title %}Анкета{% endblock %}

{% block content %}
    <style>
        body {
        font-family: georgia;
        font-size: 18px;
        }

        .section {
            margin-top: 20px;
            border: 1px solid #dddddd;
            padding: 15px;
            background-color: #54B6B2;
        }
        .section h3 {
            margin-top: 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .form-group textarea {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .btn {
            background-color: #2F4F4F;
            color: #F9EBC3;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #3d5a5a;
        }
    </style>
</head>
<body>
    <h1>Научные труды</h1>
    <form action="/research_papers" method="POST">
        <div id="sections-container">
        </div>
        <button type="button" class="btn" onclick="addSection()">Добавить раздел</button>
        <button type="submit" class="btn">Следующая страница</button>
    </form>

    <script>
        let sectionCount = 0;

        function addSection() {
            sectionCount++;
            const container = document.getElementById('sections-container');
            const sectionHTML = `
                <div class="section">
                    <h3>Документ ${sectionCount}</h3>
                    <div class="form-group">
                        <label for="document_name_${sectionCount}">Название документа</label>
                        <input type="text" id="document_name_${sectionCount}" name="document_name_${sectionCount}">
                    </div>
                    <div class="form-group">
                        <label for="annotation_${sectionCount}">Аннотация</label>
                        <textarea id="annotation_${sectionCount}" name="annotation_${sectionCount}" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="creation_date_${sectionCount}">Дата создания</label>
                        <input type="date" id="creation_date_${sectionCount}" name="creation_date_${sectionCount}">
                    </div>
                    <div class="form-group">
                        <label for="file_link_${sectionCount}">Ссылка на файл</label>
                        <input type="url" id="file_link_${sectionCount}" name="file_link_${sectionCount}">
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', sectionHTML);
        }

        // Добавляем первую секцию при загрузке страницы
        window.onload = addSection;
    </script>
{% endblock %}